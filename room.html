<!DOCTYPE html>
<html lang="en">
<head> 
    <meta charset="UTD-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>ALOHA</title>
    <link rel="icon" href="./assets/img/logo/logo.png" type="image/x-icon" />
    <link rel="stylesheet" href="./assets/CSS/base.css">
    <link rel="stylesheet" href="./assets/CSS/home.css">
    <link rel="stylesheet" href="./assets/CSS/room.css">
    <link rel="stylesheet" href="./assets/CSS/responsiveHome.css">
    <link rel="stylesheet" href="./assets/CSS/responsiveRoom.css">
    <link rel="stylesheet" href="./assets/CSS/responsiveNav.css">
    <link rel="stylesheet" href="./form/css/registerRoom.css">
    <link rel="stylesheet" href="./form/css/paymentRoom.css">
    <link rel="stylesheet" href="./assets/fonts/fontawesome-free-6.1.1-web/css/all.min.css">
    <link rel="stylesheet" href="./assets/fonts/themify-icons/themify-icons.css">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body>

    <?php
    include './header.html';
    ?>

    <div id="overlay"></div>

    <div id="slider">
        <div class="slider-container">
            <video autoplay loop muted plays-inline class="video-background">
                <source src="./assets/video/PHÒNG.mp4" type="video/mp4">
                <div class="overlay-video"></div>
            </video>
            <div class="content">
                <h2>PHÒNG</h2>
                <p>Đến với ALOHA là đến với những giấc ngủ tuyệt vời. Hãy để chúng tôi mang đến sự thoải mái cho kỳ nghỉ của bạn</p>
            </div>
        </div>
    </div>

    <div id="content">

        <!-- single -->
        <div class="main-content">
            <div class="bd-example">
                <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
                  <ol class="carousel-indicators">
                    <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
                    <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
                  </ol>
                  <div class="carousel-inner">
                    <div class="carousel-item active">
                      <img src="./assets/img/room/DON 1.png" class="d-block w-100 img-room-single" alt="...">
                      <div class="carousel-caption d-none d-md-block">
                      </div>
                    </div>
                    <div class="carousel-item">
                      <img src="./assets/img/room/DON 2.png" class="d-block w-100 img-room-single" alt="...">
                      <div class="carousel-caption d-none d-md-block">
                      </div>
                    </div>
                    <div class="carousel-item">
                      <img src="./assets/img/room/DON 3.png" class="d-block w-100 img-room-single" alt="...">
                      <div class="carousel-caption d-none d-md-block">
                      </div>
                    </div>
                  </div>
                  <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
                    <div class="container-prev-room">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    </div>
                    <span class="sr-only">Previous</span>
                  </a>
                  <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
                    <div class="container-next-room">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    </div>
                    <span class="sr-only">Next</span>
                  </a>
                </div>    
            </div>
            
            <div class="infor-room-parent">
              <div class="infor-room">
                  <div class="group-title">
                      <div class="title">
                          <i class="fa-solid fa-user"></i>
                          <h2>PHÒNG ĐƠN</h2>
                      </div>
                      <div class="title title1">
                          <i class="fa-solid fa-hotel"></i>
                          <h3>1.400.000/phòng/đêm</h3>
                      </div>
                  </div>
                  <ul class = "description">
                      Mô tả
                      <li>Một giường đơn</li>
                      <li>Wifi miễn phí</li>
                      <li>Hệ thống điều hòa đầy đủ</li>
                      <li>Phòng tắm gồm bồn tắm</li>
                      <li>Led TV với các kênh kết nối trực tuyến</li>
                      <li>Miễn phí sử dụng hồ bơi</li>
                      <li>Ban công với cảnh biển xinh đẹp</li>
                      <p class ="size">Kích thước</p> 
                      <p>30m^2</p>
                  </ul>
                  <button id= 'btn-single' class ="btn-booknow">Đặt ngay</button>
              </div>
            </div>
        </div>        

        <!-- double -->
        <div class="main-content">
            <div class="bd-example">
                <div id="carouselExampleCaptions1" class="carousel slide" data-ride="carousel">
                  <ol class="carousel-indicators">
                    <li data-target="#carouselExampleCaptions1" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselExampleCaptions1" data-slide-to="1"></li>
                    <li data-target="#carouselExampleCaptions1" data-slide-to="2"></li>
                  </ol>
                  <div class="carousel-inner">
                    <div class="carousel-item active">
                      <img src="./assets/img/room/DOI 1.png" class="d-block w-100 img-room-single" alt="...">
                      <div class="carousel-caption d-none d-md-block">
                      </div>
                    </div>
                    <div class="carousel-item">
                      <img src="./assets/img/room/DOI 2.png" class="d-block w-100 img-room-single" alt="...">
                      <div class="carousel-caption d-none d-md-block">
                      </div>
                    </div>
                    <div class="carousel-item">
                      <img src="./assets/img/room/DOI 3.png" class="d-block w-100 img-room-single" alt="...">
                      <div class="carousel-caption d-none d-md-block">
                      </div>
                    </div>
                  </div>
                  <a class="carousel-control-prev" href="#carouselExampleCaptions1" role="button" data-slide="prev">
                    <div class="container-prev-room">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    </div>
                    <span class="sr-only">Previous</span>
                  </a>
                  <a class="carousel-control-next" href="#carouselExampleCaptions1" role="button" data-slide="next">
                    <div class="container-next-room">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    </div>                    
                    <span class="sr-only">Next</span>
                  </a>
                </div>    
            </div>
            
            <div class="infor-room-parent">
              <div class="infor-room">
                  <div class="group-title">
                      <div class="title">
                          <i class="fa-solid fa-user"></i>
                          <h2>PHÒNG ĐÔI</h2>
                      </div>
                      <div class="title title1">
                          <i class="fa-solid fa-hotel"></i>
                          <h3>2.000.000/phòng/đêm</h3>
                      </div>
                  </div>
                  <ul class = "description">
                      Mô tả
                      <li>Một giường đôi</li>
                      <li>Wifi miễn phí</li>
                      <li>Hệ thống điều hòa đầy đủ</li>
                      <li>Phòng tắm gồm bồn tắm</li>
                      <li>Led TV với các kênh kết nối trực tuyến</li>
                      <li>Miễn phí sử dụng hồ bơi</li>
                      <li>Miễn phí một suất ăn sáng buffer tại sảnh</li>
                      <li>Hai ban công ngắm trọn cảnh biển</li>
                      <p class ="size">Kích thước</p> 
                      <p>45m^2</p>
                  </ul>
                  <button id= "btn-double"class ="btn-booknow">Đặt ngay</button>
              </div>
            </div>
        </div>

        <!-- big room -->
        <div class="main-content">
            <div class="bd-example">
                <div id="carouselExampleCaptions2" class="carousel slide" data-ride="carousel">
                  <ol class="carousel-indicators">
                    <li data-target="#carouselExampleCaptions2" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselExampleCaptions2" data-slide-to="1"></li>
                    <li data-target="#carouselExampleCaptions2" data-slide-to="2"></li>
                  </ol>
                  <div class="carousel-inner">
                    <div class="carousel-item active">
                      <img src="./assets/img/room/BON 1.png" class="d-block w-100 img-room-single" alt="...">
                      <div class="carousel-caption d-none d-md-block">
                      </div>
                    </div>
                    <div class="carousel-item">
                      <img src="./assets/img/room/BON 2.png" class="d-block w-100 img-room-single" alt="...">
                      <div class="carousel-caption d-none d-md-block">
                      </div>
                    </div>
                    <div class="carousel-item">
                      <img src="./assets/img/room/BON 3.png" class="d-block w-100 img-room-single" alt="...">
                      <div class="carousel-caption d-none d-md-block">
                      </div>
                    </div>
                  </div>
                  <a class="carousel-control-prev" href="#carouselExampleCaptions2" role="button" data-slide="prev">
                    <div class="container-prev-room">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    </div>
                    <span class="sr-only">Previous</span>
                  </a>
                  <a class="carousel-control-next" href="#carouselExampleCaptions2" role="button" data-slide="next">
                    <div class="container-prev-room">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    </div>
                    <span class="sr-only">Next</span>
                  </a>
                </div>    
            </div>
            
            <div class="infor-room-parent">
              <div class="infor-room">
                  <div class="group-title">
                      <div class="title">
                          <i class="fa-solid fa-user"></i>
                          <h2>PHÒNG BỐN</h2>
                      </div>
                      <div class="title title1">
                          <i class="fa-solid fa-hotel"></i>
                          <h3>4.200.000/phòng/đêm</h3>
                      </div>
                  </div>
                  <ul class = "description">
                      Mô tả
                      <li>Hai giường đôi lớn</li>
                      <li>Wifi miễn phí</li>
                      <li>Hệ thống điều hòa đầy đủ</li>
                      <li>Phòng tắm gồm bồn tắm</li>
                      <li>Led TV với các kênh kết nối trực tuyến</li>
                      <li>Miễn phí sử dụng hồ bơi</li>
                      <li>Miễn phí một suất ăn sáng buffer tại sảnh</li>
                      <li>Các ưu đãi đặc biệt khi sử dụng quầy bar tại sảnh</li>
                      <li>Hai ban công ngắm trọn cảnh biển</li>
                      <p class ="size">Kích thước</p> 
                      <p>60m^2</p>
                  </ul>
                  <button id = "btn-big-room" class ="btn-booknow">Đặt ngay</button>
              </div>              
            </div>
        </div>
    </div>

    <div id="suggest">
        <div class="suggest-container">
            <table>
                <tr>
                    <td><div class="img img1"></div></td>
                    <td><div class="img img2 even"></div></td>
                    <td><div class="img img3"></div></td>
                    <td><div class="img img4 even"></div></td>
                    <td><div class="img img5"></div></td>
                </tr>
            </table>
        </div>
    </div>

    <div id="footer">
        <div class="footer-container">
            <span id="admin" data-toggle="modal" data-target="#modal-login">Kênh quản lý</span>
            <div class="footer-content">
                <div class="social-contact">
                    <div class="follow-us">
                        <h2>ALOHA HOTEL</h2>
                        <div class="follow-us-social">
                            <p>Follow us:</p> 
                            <a href="#"><i class="icon-follow-us fa-brands fa-facebook"></i></a>
                            <a href="#"><i class="icon-follow-us fa-brands fa-youtube"></i></a>
                            <a href="#"><i class="icon-follow-us fa-brands fa-twitter"></i></a>
                            <a href="#"><i class="icon-follow-us fa-brands fa-instagram"></i></a>
                        </div>
                    </div>
                </div>
                
                <ul class="infor-contact">   
                    <li>
                        <i class="icon-infor-contact1 fa-solid fa-location-dot"></i>
                        <span><a href="#location">12 La Văn Cầu, Phường Thắng Tam, Thành phố Vũng Tàu, Bà Rịa - Vũng Tàu</a></span>
                        
                    </li>    
                    <li>
                        <i class="icon-infor-contact fa-solid fa-phone"></i>
                        <span><a href="tel: 0969769445">096 976 94 45</a></span>
                        
                    </li>
                    <li>
                        <i class="icon-infor-contact fa-solid fa-envelope"></i>
                        <span><a href="mailto:">alohavungtau@gmail.com</a></span>
                    </li>
                </ul>     
            </div>
        </div>
    </div>

    <div id="scroll-head">
        <i class="ti-angle-up"></i>
    </div>

    <form class = "form-group" action="./assets/PHP/booking_room.php" method="post">
        <div class="modal-register">
            <div class="modal-register-container">
                <div class="modal-header register">
                    <span>ĐĂNG KÝ PHÒNG</span>
                    <div class="close-modal">
                        <i id = "icon-close-register" class="icon-close-modal fa-solid fa-xmark"></i>
                    </div>
                </div>
            
                <div class="modal-body">
                    <div class="infor-client">
                        <p class="title">1. Thông tin khách hàng</p>
                        <div class="infor-item">
                            <label>Họ tên:</label>
                            <input type="text" id="fullname-register" name="fullname"  placeholder="Nhập họ tên" class="input-form client">
                            <br>
                        </div>
                        <div class="infor-item">
                            <label>Số điện thoại:</label>
                            <input type="text" id="phone-register" name="phone" placeholder="Nhập số điện thoại" class="input-form client">
                            <br>
                        </div>
                        <div class="infor-item">
                            <label>Email:</label>
                            <input type="text" id="email-register" name="email" placeholder="Nhập email" class="input-form client">
                        </div>
                    </div>
                    <div class="infor-room">
                        <p class="title">2. Thông tin phòng</p>
                        <div class="infor-item">
                            <label for="checkin">Ngày đặt:</label> 
                            <input id="checkin-day-register" type="date" name="checkin" class="input-form">
                            <br>
                        </div>
                        <div class="infor-item">
                            <label for="checkout">Ngày trả:</label>
                            <input id="checkout-day-register" type="date" name="checkout" class="input-form">
                            <br>                                 
                        </div>
                        <div class="infor-item">
                            <label>Loại phòng:</label>
                            <select id ="type-room-register" class="input-form" name="type-room-register">
                                <option></option>
                            </select>
                            <br>
                        </div>
                        <div class="infor-item">
                            <label>Số lượng phòng:</label>
                            <input type="number" id="number-room-register" name="number-room" placeholder="Nhập số lượng" class="input-form" value = 1  min="1" max="5">
                            <br>
                        </div>
                        
                        <div class="infor-item">
                            <label>Giá tiền/phòng:</label>
                            <input type="text" id="price" name="price" disabled class="input-form">
                        </div>
                    </div>
                    
                    <button type ="button" class="button-next-form"onclick="openFormPayment()">Tiếp theo</button>
                </div>
            </div>           
        </div>
        <div class="modal-payment">   
            <div class="modal-payment-container">
                <div class="modal-header payment">
                    <span>THANH TOÁN</span>
                    <div class="close-modal">
                        <i id = "icon-close-payment" class="icon-close-modal fa-solid fa-xmark"></i>
                    </div>
                </div>
    
                <div class="modal-body">
                    <div class="detail-payment">
                        <p class="title">3. Chi tiết hóa đơn</p>
                        <div class="detail-payment-body">
    
                            <div class="detail-payment-client">
                                <p class="fullname-payment"></p>
                                <p class="phone-payment"></p>
                                <p class="type-room-payment"></p>
                            </div>
                            
                            <div class="detail-payment-room">
                                <p class="checkin-payment"></p>
                                <p class="checkout-payment"></p>
                                <p class="amount-room-payment"></p>
                            </div>
                        </div> 
                        
                        <p class="email-payment"></p>
                        <p class="total-payment"></p>
                    </div>
    
                    <div class="method-payment">
                        <p class="title title-method"> 4. Phương thức thanh toán</p>
                        <div class="method-container">
                            <div class="method-item">
                                <input type="radio" name="payment" id = "cash" class="input-method-item">
                                <label for="cash" class="label-method-item">
                                    <i class="icon-check fa-solid fa-circle-check"></i>
                                    <img src="./assets/img/cash-icon.png" alt="" id ="cash-img" class="icon-payment">
                                    <p>Tiền mặt</p>
                                </label>
    
                            </div>
                            <div class="method-item">
                                <input type="radio" name="payment" id = "momo" class="input-method-item">
                                <label for="momo" class="label-method-item">
                                    <i class="icon-check fa-solid fa-circle-check"></i>
                                    <img src="https://upload.wikimedia.org/wikipedia/vi/f/fe/MoMo_Logo.png" alt="MoMo_Logo" id="momo-img" class="icon-payment">
                                    <p>Momo</p>
                                </label>
                            </div>
                            <div class="method-item" class="label-method-item">
                                <input type="radio" name="payment" id = "bank" class="input-method-item">
                                <label for="bank" class="label-method-item">
                                    <i class="icon-check fa-solid fa-circle-check"></i>
                                    <img src="https://cdn-icons-png.flaticon.com/512/3029/3029373.png" alt="" class="icon-payment" id="bank-img">
                                    <p>Chuyển khoản</p>
                                </label>
                            </div>
                        </div>
                    </div>
                        
                    <div class="group-button">
                        <button type ="button" class="btn-payment button-back">Quay lại</button>
                        <button type="submit" name="submit_room" class="btn-payment button-finish">Hoàn tất</button>
                    </div>
                    <!-- hiện đơn đặt phòng -->
                    <script src="./assets/javascript/formReservation1.js">                   
                    </script>
                    
                    <script type="module">
                        var DataTypeRoom = JSON.parse('<?= load_data_typerom(); ?>'); // kdl: object 
                        var type_room_selected = $('#type-room-register').find(":selected").text();

                        function setPrice(obj) {
                            let type_room_selected = $('#type-room-register').find(":selected").text();
                            for (let i = 0; i < obj.length; i++) {
                                if((obj[i].name).localeCompare(type_room_selected) == 0) {
                                    return obj[i].price;
                                    // break;
                                }

                            }
                        }
                        $('.btn-booknow').click(function() {
                            $('#price').val(setPrice(DataTypeRoom));
                        })          
                     
                        var countDay;
                        function calculateDate() { 
                            const startDate  = $('#checkin-day-register').val();
                            const endDate    = $('#checkout-day-register').val();

                            const diffInMs   = new Date(endDate) - new Date(startDate)
                            const diffInDays = diffInMs / (1000 * 60 * 60 * 24);
                            countDay = Math.floor(diffInDays);
                            return countDay;
                        }

                        $(".button-next-form").click(function(){
                            var countday = calculateDate();
                            $('.total-payment').text("Tổng cộng: " + setPrice(DataTypeRoom) * parseInt($('#number-room-register').val()) * countday + " VND");
                        });
                        
                    </script>
                    <?php
                    function load_data_typerom() {
                        include './assets/PHP/connectdb.php';
                        $arr = array();
                        $typerom_rows =  $conn->query("select * from roomtype");
                        
                        while($get_data_roomtype = $typerom_rows->fetch_assoc()) {
                        // array_push($arr,$get_data_roomtype["RoomTypeName"]);
                        array_push($arr, (object)[
                            'name' => $get_data_roomtype["RoomTypeName"],
                            'price' => $get_data_roomtype["RoomTypePrice"],
                            ]);
                        }
                        
                        return (json_encode($arr,JSON_UNESCAPED_UNICODE|JSON_UNESCAPED_SLASHES));
                        
            
                    }
                    ?>
                    
                
                    
                </div>
            </div>
    
        </div>
    </form>

    <script>
        var scrollIcon = document.getElementById("scroll-head");
        window.onscroll = function() {
            if (document.documentElement.scrollTop > 1600)
            {
                scrollIcon.style.opacity= "1";
            } else {
                scrollIcon.style.opacity= "0";
            }
            scrollIcon.onclick = function() {
                scrollTo(0,0);
            }
        };
    </script>
    <script src="./assets/javascript/navbar.js"></script>
    <!-- <script src="./assets/javascript/formBooking1.js"></script> -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>